\documentclass[12pt]{article}             
\textwidth = 6.5in
\textheight = 9.05in
\topmargin 0.0in
\oddsidemargin 0.0in
\evensidemargin 0.0in

% set it so that subsubsections have numbers and they
% are displayed in the TOC (maybe hard to read, might want to disable)

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

% define widow protection 

\def\widow#1{\vskip #1\vbadness10000\penalty-200\vskip-#1}

% define a little section heading that doesn't go with any number

\def\littlesection#1{
\widow{2cm}
\vskip 0.5cm
\noindent{\bf #1}
\vskip 0.1cm
\noindent
}

% A paraphrase mode that makes it easy to see the stuff that shouldn't
% stay in for the final proposal

\newdimen\tmpdim
\long\def\paraphrase#1{{\parskip=0pt\hfil\break
\tmpdim=\hsize\advance\tmpdim by -15pt\noindent%
\hbox to \hsize
{\vrule\hskip 3pt\vrule\hfil\hbox to \tmpdim{\vbox{\hsize=\tmpdim
\def\par{\leavevmode\endgraf}
\obeyspaces \obeylines 
\let\par=\endgraf
\bf #1}}}}}

\renewcommand{\baselinestretch}{1.2}    % must go before the begin of doc

% go with the way that CC sets the margins

\vspace*{-1in}

\begin{document}

% handle widows appropriately
\def\widow#1{\vskip #1\vbadness10000\penalty-200\vskip-#1}

\begin{center}

  CS 380: Principles of Database Systems \\
  Examination Two \\
  %Tuesday, April 17, 2007 \\

  \end{center}

  \noindent
  Answer the five questions that are listed below.  You must provide
  answers to these questions on a separate sheet of paper.  Please
  develop responses that clearly express your ideas in the most succinct
  manner possible.  You are not permitted to complete this examination
  in conjunction with any of your classmates.  Furthermore, you cannot
  consult any outside references during this examination.  If you have
  questions concerning the problems that are listed below, please visit
  my office during the examination period.  If you leave the classroom
  to take the exam, you are responsible for checking the white board for
  status updates.

  \begin{enumerate}

    \item ({\bf 10 Points}) It is important to properly design and
      implement a database-centric application.  Answer the following
      questions about application design and development.

      \begin{enumerate}

        \item ({\bf 4 Points}) What are the similarities and differences between a three-layer Web architecture and a
          two-layer architecture?  Your response to this question should include a picture of each type of architecture.

          %% \item ({\bf 3 Points}) Some Web-based scripting languages execute
          %%   on the client and others execute on the same computer as the Web
          %%   server itself.  Clearly explain an example of each type of
          %%   scripting language.  Your answer should use a properly labeled
          %%   figure in order to reveal the execution location of each
          %%   scripting language.

          \item ({\bf 4 Points}) What is a Java Database Connectivity (JDBC) driver connection pool?  Your response
            should explain why connection pooling is valuable and discuss the performance trade-offs associated with the
            use of pools.

          \item ({\bf 2 Points}) Web-based languages are often designed to execute on the side of either the Web client
            or the Web server. After drawing a diagram that shows communication between a client and a server, please
            include labels to indicate one example each of a language that runs on the client and the server.

            %% \item ({\bf 4 Points}) What is a database trigger?  Please
            %%   describe a single circumstance in which it would be valuable to
            %%   use triggers.  Finally, you should identify a situation in which
            %%   it would not be appropriate to use triggers.  As part of your
            %%   answer, you must carefully explain {\em why} it would or would
            %%   not be wise to use triggers.  Whenever possible, your response
            %%   should include diagrams and/or concrete examples.

            \end{enumerate}

            \newpage

          \item ({\bf 10 Points}) There are several techniques that may be used to design, implement, and test Web sites
            and database-centric software applications.  Answer the following questions that are related to Web-based
            data management.

            %% How do databases
            %%       support the implementation of one (or both) of these type of
            %%       sites?  As a Web developer, what are the trade-offs that you
            %%       would evaluate when deciding whether to implement your next Web
            %%       site in a static or dynamic fashion?  

            \begin{enumerate}

              \item ({\bf 2 Points}) What is the difference between a {\em static} Web site and a {\em dynamic} Web
                site?  Your response should include an example of each type of Web site.

              \item ({\bf 2 Points}) The use of a cache is a common method for improving application performance.
                Ehcache is a widely used distributed cache for general purpose caching in the Java programming language.
                Please clearly explain how you could use, for instance, Ehcache to improve the performance of a
                Web-based database application.  Your response to this question should include one or more architecture
                diagrams that clearly show the location and purpose of the cache.

              \item ({\bf 4 Points}) Suppose that you are performing load testing for a database-driven Web site.  How
                will {\em throughput} and {\em response time} change as you increase the number of clients that are
                concurrently using the Web site?  What can you do to improve the performance of a database-driven Web
                site?  Your answer to this question should include a single ``two-axis'' graph that plots the
                relationship between throughput and response time and the number of concurrent clients increases.

              \item ({\bf 2 Points}) Many Web sites and database applications use HTML and/or XML. Please provide a
                description of these two languages, using concrete examples to clearly explain how they are similar to
                and different from each other. 

            \end{enumerate}

            \newpage

          \item ({\bf 10 Points}) Relational databases contain several advanced features that support the implementation
            of complex schemas.  Answer the following questions about some advanced features supported by many database
            management systems.

            \begin{enumerate}

              \item ({\bf 3 Points}) What is {\em meta-data}?  How does the Java Database Connectivity (JDBC) interface
                support the collection and access of meta-data?  How does the eXtensible markup language (XML)
                facilitate the inclusion of meta-data?

                %% How does a relational database management system (RDBMS) handle
                %% meta-data?  What type of meta-data does an RDBMS collect?

                \item ({\bf 5 Points}) What is a database {\em trigger}?  Please describe a circumstance in which it
                  would be valuable to use triggers.  Finally, identify a situation in which it would not be appropriate
                  to use triggers.  As part of your answer, you must carefully explain why it would or would not be wise
                  to use triggers.  Whenever possible, your response should include diagrams and/or concrete examples.

                \item ({\bf 2 Points}) A relational database can store {\bf null} values.  What is the meaning of a {\bf
                  null} in a database?  How is this meaning different than the understanding of a variable
                  in a Java program that contains the value of {\tt null}?

              \end{enumerate}

              \newpage

            \item ({\bf 10 Points}) The relational schema of a database controls
              the data that will be accepted and rejected by the database
              management system.  Using Figure~\ref{fig:motivating-example} for
              part (a), answer the following questions about relational schemas
              and the structured query language.

              \begin{enumerate}

                \item ({\bf 5 Points}) Answer the following questions about 
                  \texttt{Flights} and \texttt{FlightAvailable}:

                  \begin{enumerate}

                    \item What does it mean if a variable is declared to be \texttt{NOT NULL}?

                    \item Pick a variable that is a \texttt{PRIMARY KEY} and explain it fully.

                    \item Explain the \texttt{CHECK} constraint in the \texttt{Flights} table.

                    \item Propose data that will satisfy the constraints of the two tables.

                    \item Propose data that will violate the constraints of the
                      two tables.

                  \end{enumerate}

                \item ({\bf 2 Points}) Suppose that you used the {\bf create
                  table} statement to create a relation $rel_j$ that contains
                  attributes $A$, $B$, and $C$.  What SQL statement would you
                  execute if you wanted to add another attribute $D$ to this
                  relation?  What SQL statement would you run if you needed to
                  remove $rel_j$'s attribute $A$?

                \item ({\bf 3 Points}) What is a relational {\em view}?  Your
                  response should explain why views are created.  What are the
                  difficulties that are often associated with supporting direct
                  modification to a view?  In particular, your response should
                  clearly explain the challenges that are associated with handling
                  the {\bf view update} problem.

              \end{enumerate}

              \newpage

              \begin{figure}[hp]
                \centering
                \normalsize
                %\setlength{\extrarowheight}{-0.5pt}
                \begin{tabular}{l}
                  \texttt{CREATE TABLE Flights(}                                        \\
                  \texttt{~~FLIGHT\_ID~~~~~~~~CHAR(6)~\textbf{NOT NULL},}               \\
                  \texttt{~~SEGMENT\_NUMBER~~~INT~~~~~\textbf{NOT~NULL},}               \\
                  \texttt{~~ORIGINAL\_AIRPORT~CHAR(3),}                                 \\
                  \texttt{~~DEPART\_TIME~~~~~~TIME,}                                    \\
                  \texttt{~~DEST\_AIRPORT~~~~~CHAR(3),}                                 \\
                  \texttt{~~ARRIVE\_TIME~~~~~~TIME,}                                    \\
                  \texttt{~~MEAL  ~~~~~~~~~~~~CHAR(1),}                                 \\
                  \texttt{~~\textbf{PRIMARY KEY(FLIGHT\_ID, SEGMENT\_NUMBER)},}         \\
                  \texttt{~~\textbf{CHECK(MEAL IN (`B', `L', `D', `S'))}}               \\
                  \texttt{);} \vspace{2mm}                                              \\                                                                    
                  \texttt{CREATE TABLE FlightAvailable (}                               \\
                  \texttt{~~FLIGHT\_ID~~~~~~~~~~~~~~CHAR(6) \textbf{NOT NULL,}}         \\
                  \texttt{~~SEGMENT\_NUMBER~~~~~~~~~INT~~~~~\textbf{NOT NULL,}}         \\
                  \texttt{~~FLIGHT\_DATE~~~~~~~~~~~~DATE~~~~\textbf{NOT NULL,}}         \\
                  \texttt{~~ECONOMY\_SEATS\_TAKEN~~~~INT,}                              \\
                  \texttt{~~BUSINESS\_SEATS\_TAKEN~~~INT,}                              \\
                  \texttt{~~FIRSTCLASS\_SEATS\_TAKEN~INT,}                              \\
                  \texttt{~~\textbf{PRIMARY KEY(FLIGHT\_ID, SEGMENT\_NUMBER),}}         \\
                  \texttt{~~\textbf{FOREIGN KEY(FLIGHT\_ID, SEGMENT\_NUMBER)}}          \\
                  \texttt{~~~~\textbf{REFERENCES Flights(FLIGHT\_ID, SEGMENT\_NUMBER)}} \\
                  \texttt{);}                                                           \\
                \end{tabular}
                \caption{\label{fig:motivating-example}An Example Schema for a Flight Booking Application.}
                \vspace{-2em}
              \end{figure}

              \newpage

            \item ({\bf 10 Points}) You must consider security and performance when you are using a data management
              system.  Answer the following questions about these important areas.

              \begin{enumerate}

                % \item ({\bf 4 Points}) What is the meaning of the abbreviation HTTP?  What is the meaning of HTML? How
                %   are these technologies used to implement database applications?

                  %% Is HTTP a connection-oriented or a connection-less
                  %%       protocol?  How does the choice of connection-oriented or
                  %%       connection-less protocols impact the performance of a Web
                  %%       application?  

                  \item ({\bf 3 Points}) Many Web servers attempt to store cookies in a Web browser.  What is a cookie
                    and why does a server store it in a Web browser?  What are the performance and security issues that
                    must be managed when it comes to the storage of cookies?  Your response to this question should
                    furnish at least one performance concern and at least one security issue.

                  \item ({\bf 3 Points}) The Java database connectivity (JDBC) interface furnishes the ability to create
                    and submit a {\em prepared statement}.  Furthermore, JDBC also enables a program to execute a SQL
                    {\bf select} and receive a {\em result set}.  Using source code statements when appropriate, define
                    the terms prepared statement and result set. Then, explain the security challenge(s) associated with
                    using prepared statements in Java programs to interact with a relational database.

                  \item ({\bf 2 Points}) The structured query language provides features that support both
                    authentication and authorization. What is the meaning of each of these \mbox{two terms}?

                  \item ({\bf 2 Points}) The Java programming language supports the serialization of objects using
                    either a binary or XML-based storage mechanism. After explaining how these two methods work, please
                    state which one is more secure and explain why.
                    \end{enumerate}

                \end{enumerate}

                \end{document}



